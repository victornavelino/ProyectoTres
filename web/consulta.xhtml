<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition  xmlns="http://www.w3.org/1999/xhtml"
                 xmlns:ui="http://java.sun.com/jsf/facelets"
                 template="./Templates/adminTemplate.xhtml"
                 xmlns:p="http://primefaces.org/ui"
                 xmlns:h="http://java.sun.com/jsf/html"
                 xmlns:f="http://java.sun.com/jsf/core"
                 xmlns:b="http://bootsfaces.net/ui"
                 >



    <ui:define name="content">
        <b:panel>


            <h3> <h:outputText value="Consultas" styleClass="titulo"/></h3>

            <b:tabView id="tvConsulta">  


                <b:tab id="tab2" title="Medicos por Especialidad">
                    <br/>

                    <b:container fluid="true">
                        <b:row >
                            <b:column col-sm="1">
                                <h:outputLabel value="Especialidad: " /> 
                            </b:column>
                            <b:column col-lg="3">
                                <p:selectOneMenu id="comboEspecialidades"
                                                 value="#{consultaBean.especialidad}"
                                                 converter="ConversorGenerico"
                                                 filter="true"
                                                 style="width: 300px"
                                                 >
                                    <f:selectItems value="#{listaEspecialidadBean.especialidades}"/>
                                </p:selectOneMenu>
                            </b:column>
                            <b:column col-sm="2">
                                <p:commandButton id="cbBuscarEspecializaciones"
                                                 icon="ui-icon-search"
                                                 value="Buscar"
                                                 actionListener="#{consultaBean.buscarEspecializaciones()}"
                                                 update="dtConsultaEspecializacion"/>
                                <br/>
                            </b:column>
                        </b:row>
                    </b:container>

                </b:tab>

            </b:tabView>
        </b:panel>
        <br/>
        <h3> <h:outputText value="resultados" styleClass="titulo"/></h3>
        <p:dataTable id="dtConsultaEspecializacion"
                     value="#{listaEspecializacionBean.especializaciones}"
                     var="item"
                     style="overflow-x: auto;"
                     paginator="true"
                     rows="20"
                     >
            <p:column 
                filterBy="#{item.matriculaEspecialidad}"
                style="word-wrap:break-word;">
                <f:facet name="header">
                    <h:outputText value="Matricula"/>
                </f:facet>
                <h:outputText value="#{item.matriculaEspecialidad}"/>
            </p:column>
            <p:column 
                filterBy="#{item.medico.persona.apellido}" sortBy="#{item.medico.persona.apellido}"
                style="word-wrap:break-word;">
                <f:facet name="header">
                    <h:outputText value="Apellido"/>
                </f:facet>
                <h:outputText value="#{item.medico.persona.apellido}"/>
            </p:column>
            <p:column 
                filterBy="#{item.medico.persona.nombre}"
                style="word-wrap:break-word;">
                <f:facet name="header">
                    <h:outputText value="Nombre"/>
                </f:facet>
                <h:outputText value="#{item.medico.persona.apellido}"/>
            </p:column>
             <p:column 
                filterBy="#{item.matriculaEspecialidad}"
                style="word-wrap:break-word;">
                <f:facet name="header">
                    <h:outputText value="Matricula"/>
                </f:facet>
                <h:outputText value="#{item.matriculaEspecialidad}"/>
            </p:column>
        </p:dataTable>







    </ui:define>
</ui:composition>
