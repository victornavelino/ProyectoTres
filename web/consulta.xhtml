<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                template="Templates/paginasTemplate.xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:p="http://primefaces.org/ui"
                xmlns:b="http://bootsfaces.net/ui"
                >

    <ui:define name="content">
        <h:form id="consultaForm">
            <b:panel>


                <h3> <h:outputText value="Consultas" styleClass="titulo"/></h3>



                <b:tabView id="tvConsulta">  


                    <b:tab id="tab2" title="Medicos deudores">
                        <p:panelGrid columns="2" styleClass="noBorders">

                            <p:outputLabel value="MESES: " for="mes" /> 

                            <p:selectOneMenu id="mes" value="#{consultaBean.mes}"  maxlength="40">
                                <f:selectItem itemLabel="ENERO" itemValue="1" />
                                <f:selectItem itemLabel="FEBRERO" itemValue="2" />
                                <f:selectItem itemLabel="MARZO" itemValue="3" />
                                <f:selectItem itemLabel="ABRIL" itemValue="4" />
                                <f:selectItem itemLabel="MAYO" itemValue="5" />
                                <f:selectItem itemLabel="JUNIO" itemValue="6" />
                                <f:selectItem itemLabel="JULIO" itemValue="7" />
                                <f:selectItem itemLabel="AGOSTO" itemValue="8" />
                                <f:selectItem itemLabel="SEPTIEMBRE" itemValue="9" />
                                <f:selectItem itemLabel="OCTUBRE" itemValue="10" />
                                <f:selectItem itemLabel="NOVIEMBRE" itemValue="11" />
                                <f:selectItem itemLabel="DICIEMBRE" itemValue="12" />
                            </p:selectOneMenu>   
                            <p:outputLabel value="AÃ‘O " for="mes" /> 


                            <p:spinner id="spinner" value="#{consultaBean.anio}" 
                                       min="1900" 
                                       max="2020" 
                                       style="" 

                                       />


                            <p:commandButton id="cbBuscarEspecializaciones"
                                             icon="ui-icon-search"
                                             value="Buscar"
                                             actionListener="#{consultaBean.buscarMedicosDeudores()}"
                                             update="dtConsultaMedico"/>
                        </p:panelGrid>

                    </b:tab>

                </b:tabView>
            </b:panel>
            <br/>
            <h3> <h:outputText value="resultados" styleClass="titulo"/></h3>
            <p:dataTable id="dtConsultaMedico"
                         value="#{listaMedicoBean.medicos}"
                         var="item"
                         style="overflow-x: auto;"
                         paginator="true"
                         rows="20"
                         >
                <p:column 
                    filterBy="#{item.persona.apellido}" sortBy="#{item.persona.apellido}"
                    style="word-wrap:break-word;">
                    <f:facet name="header">
                        <h:outputText value="Apellido"/>
                    </f:facet>
                    <h:outputText value="#{item.persona.apellido}"/>
                </p:column>
                <p:column 
                    filterBy="#{item.persona.nombre}"
                    style="word-wrap:break-word;">
                    <f:facet name="header">
                        <h:outputText value="Nombre"/>
                    </f:facet>
                    <h:outputText value="#{item.persona.apellido}"/>
                </p:column>
                <p:column 
                    filterBy="#{item.matriculaProfesional}"
                    style="word-wrap:break-word;">
                    <f:facet name="header">
                        <h:outputText value="Matricula"/>
                    </f:facet>
                    <h:outputText value="#{item.matriculaProfesional}"/>
                </p:column>
            </p:dataTable>
        </h:form>
    </ui:define>
</ui:composition>
